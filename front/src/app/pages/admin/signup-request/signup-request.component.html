<div class="grid">
	<div class="col-12">
		<div class="card">
			<h5>Signup requests</h5>
			<p-table #dt1 [value]="users" dataKey="_id" [rows]="10" [loading]="loading" [rowHover]="true" styleClass="p-datatable-gridlines" [paginator]="true" [globalFilterFields]="['name','country.name','representative.name','status']" responsiveLayout="scroll">
				<ng-template pTemplate="caption">
					<div class="flex justify-content-between flex-column sm:flex-row">
						<!-- <button pButton label="Clear" class="p-button-outlined mb-2" icon="pi pi-filter-slash" (click)="clear(dt1)"></button> -->
						 <div></div>
						<span class="p-input-icon-left mb-2">
							<i class="pi pi-search"></i>
							<input pInputText type="text" #filter (input)="onGlobalFilter(dt1, $event)" placeholder="Search Keyword" class="w-full"/>
						</span>
					</div>
				</ng-template>
				<!-- table header -->
				<ng-template pTemplate="header">
					<tr>
						<th style="min-width: 12rem">
							<div class="flex justify-content-between align-items-center">
								Image
							</div>
						</th>
						<th style="min-width: 12rem">
							<div class="flex justify-content-between align-items-center">
								First name
							</div>
						</th>
						<th style="min-width: 12rem">
							<div class="flex justify-content-between align-items-center">
								Last name
							</div>
						</th>
						 <th style="min-width: 14rem">
							<div class="flex justify-content-between align-items-center">
								Email
							</div>
						</th>
						 <th style="min-width: 14rem">
							<div class="flex justify-content-between align-items-center">
								Role
							</div>
						</th>
						<th style="min-width: 10rem">
							<div class="flex justify-content-between align-items-center">
								Creation date
							</div>
						</th>
						<th style="min-width: 10rem">
							<div class="flex justify-content-between align-items-center">
								Actions
							</div>
						</th>
					</tr>
				</ng-template>
				<!-- table body -->
				<ng-template pTemplate="body" let-user>
					<tr>
						<td>
							<img [alt]="user.firstName" [src]="user.image" width="32" style="vertical-align: middle"/>
						</td>
						<td>
							<span class="image-text ml-2">{{user.firstName}}</span>
						</td>
						 <td>
							<span class="image-text ml-2">{{user.lastName}}</span>
						</td>
						 <td>
							<span class="image-text ml-2">{{user.email}}</span>
						</td>
						 <td>
							<span class="image-text ml-2">{{user.role}}</span>
						</td>
						<td>
							{{user.createdAt | date: 'dd/MM/yyyy'}}
						</td>
						<td>
							<button pButton pRipple type="button" icon="pi pi-eye" class="p-button-rounded p-button-outlined mx-2" (click)="showDetails(user)"></button>
							<button pButton pRipple type="button" icon="pi pi-trash" class="p-button-rounded p-button-danger p-button-outlined" key="confirm1" (click)="confirm1(user._id)"></button>
						</td>
					</tr>
				</ng-template>
				<ng-template pTemplate="emptymessage">
					<tr>
						<td colspan="8">No users found.</td>
					</tr>
				</ng-template>
				<ng-template pTemplate="loadingbody">
					<tr>
						<td colspan="8">Loading users. Please wait.</td>
					</tr>
				</ng-template>
    		</p-table>
		</div>

	</div>
</div>
<p-confirmDialog header="Confirmation" key="confirm1" icon="pi pi-exclamation-triangle" message="Are you sure you want to proceed?"
					 [style]="{width: '350px'}" acceptButtonStyleClass="p-button-text" rejectButtonStyleClass="p-button-text"></p-confirmDialog>

<!-- pop up infos -->
<p-dialog header="Dialog" [(visible)]="displayInfos" [modal]="true" showEffect="fade" [style]="{width: '30vw'}" [breakpoints]="{'960px': '75vw'}">
	<p class="line-height-3 m-0">
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
		quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit
		in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
		Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
	</p>
	<ng-template pTemplate="footer">
			<button pButton icon="pi pi-check" (click)="displayInfos=false" label="Ok" class="p-button-outlined"></button>
	</ng-template>
</p-dialog>